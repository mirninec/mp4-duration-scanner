# üìº MP4 Duration Scanner ‚è±Ô∏è

–ü—Ä–æ–≥—Ä–∞–º–º–∞ `mp4-duration-scanner` —Å–∫–∞–Ω–∏—Ä—É–µ—Ç üìÇ –ø–∞–ø–∫–∏ –∏ —Å—á–∏—Ç–∞–µ—Ç ‚è≥ –æ–±—â—É—é –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—Å–µ—Ö MP4-—Ñ–∞–π–ª–æ–≤, –∞ —Ç–∞–∫–∂–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö MP4. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç üêß Linux –∏ ü™ü Windows, –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç üé® —Ü–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –∏ üîç –ø–æ–¥—Ä–æ–±–Ω—ã–π —Ä–µ–∂–∏–º —Å —ç–º–æ–¥–∑–∏ –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏.

üîó –ê–≤—Ç–æ—Ä: [mirninec](https://github.com/mirninec)

‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ MP4-—Ñ–∞–π–ª–æ–≤ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π –ø–∞–ø–∫–µ.
- ‚è≥ –ü–æ–¥—Å—á–µ—Ç –æ–±—â–µ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `–ß–ß:–ú–ú:–°–°`.
- üìÇ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ MP4-—Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫, –≥–¥–µ –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è.
- üó£Ô∏è –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–µ–∂–∏–º (`-v`) ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞–ø–∫–∏ —Å MP4.
- ‚úÇÔ∏è –£—Å–µ—á–µ–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö –ø—É—Ç–µ–π –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.
- üé® –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ANSI-–∫–æ–¥–æ–≤.
- üòé –≠–º–æ–¥–∑–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ (üïí, üü°, üìä, ‚úÖ, ‚è±Ô∏è) –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã

1. **üì• –°–∫–∞—á–∞–π—Ç–µ –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª**:
   - üêß –î–ª—è Linux: `mp4_scanner`
   - ü™ü –î–ª—è Windows: `mp4_scanner.exe`
   - üì¶ –§–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª–µ [Releases](https://github.com/mirninec/mp4-duration-scanner/releases).

2. **‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É**:
   - –û—Ç–∫—Ä–æ–π—Ç–µ üñ•Ô∏è —Ç–µ—Ä–º–∏–Ω–∞–ª (Linux) –∏–ª–∏ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É (Windows).
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
  
     ```bash
     ./mp4_scanner [–ø—É—Ç—å_–∫_–ø–∞–ø–∫–µ] [-v]
     ```

     –∏–ª–∏ –¥–ª—è Windows:

     ```cmd
     mp4_scanner.exe [–ø—É—Ç—å_–∫_–ø–∞–ø–∫–µ] [-v]
     ```

     - üìç `[–ø—É—Ç—å_–∫_–ø–∞–ø–∫–µ]`: –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, —Å–∫–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ç–µ–∫—É—â–∞—è –ø–∞–ø–∫–∞).
     - üó£Ô∏è `[-v]`: —Ñ–ª–∞–≥ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

3. **üìã –ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã**:

   ```bash
   ./mp4_scanner /home/user/videos -v
   ```

   –í—ã–≤–æ–¥–∏—Ç:
   - üü° –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ø—É—Ç—å –∫–∞–∂–¥–æ–π –ø–∞–ø–∫–∏ —Å MP4-—Ñ–∞–π–ª–∞–º–∏ (–≤ —Ä–µ–∂–∏–º–µ `-v`).
   - üìä –ò—Ç–æ–≥–æ–≤—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤, –ø–∞–ø–æ–∫ –∏ –æ–±—â—É—é –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

4. **üìÑ –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞**:

   ```bash
   üïí Scanning folder: /home/user/videos

   üü° 01:23:45 /home/user/videos/Summer2023
   üü° 00:45:12 /home/user/videos/Travel

   üìä Result:
   ‚úÖ Found 15 MP4 files in 2 folders.
   ‚è±Ô∏è Total duration: 02:08:57
   ```

üõ†Ô∏è –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã

üìã –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- üñ•Ô∏è –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä C (–Ω–∞–ø—Ä–∏–º–µ—Ä, `gcc`).
- üìö –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `dirent.h` (–≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ Linux, –¥–ª—è Windows —Ç—Ä–µ–±—É–µ—Ç—Å—è MinGW).

üêß –ö–æ–º–ø–∏–ª—è—Ü–∏—è –¥–ª—è Linux

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `gcc`:

   ```bash
   sudo apt-get install gcc
   ```

2. –°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É:

   ```bash
   gcc -o mp4_scanner mp4_scanner.c
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:

   ```bash
   ./mp4_scanner
   ```

ü™ü –ö–æ–º–ø–∏–ª—è—Ü–∏—è –¥–ª—è Windows

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ MinGW (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ [MSYS2](https://www.msys2.org/)):

   ```bash
   pacman -S mingw-w64-x86_64-gcc
   ```

2. –°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É:

   ```bash
   gcc -o mp4_scanner.exe mp4_scanner.c
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:

   ```cmd
   mp4_scanner.exe
   ```

‚ö†Ô∏è –ó–∞–º–µ—á–∞–Ω–∏—è

- üé• –ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ–∞–π–ª—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.mp4` (—Ä–µ–≥–∏—Å—Ç—Ä –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è).
- üìë –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ –∞—Ç–æ–º–æ–≤ `moov` –∏ `mvhd` –≤ MP4-—Ñ–∞–π–ª–∞—Ö –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø–æ–¥—Å—á–µ—Ç–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
- ‚úÇÔ∏è –í —Ä–µ–∂–∏–º–µ verbose –¥–ª–∏–Ω–Ω—ã–µ –ø—É—Ç–∏ —É—Å–µ–∫–∞—é—Ç—Å—è –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞.
- üòé –≠–º–æ–¥–∑–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, Windows Terminal, GNOME Terminal). –í —Å—Ç–∞—Ä—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö (cmd.exe) –º–æ–≥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ –∫–≤–∞–¥—Ä–∞—Ç—ã.

üìú –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE).

üì¨ –ö–æ–Ω—Ç–∞–∫—Ç—ã
–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –∏–¥–µ–∏ üí°, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –∞–≤—Ç–æ—Ä–æ–º: [mirninec](https://github.com/mirninec).
